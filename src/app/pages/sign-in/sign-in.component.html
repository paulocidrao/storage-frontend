<app-auth>
  @let passcontrol = signForm.controls.password; @let emailControl
  =signForm.controls.email;
  <section class="space-y-4">
    <h1 class="text-center text-2xl font-bold">Faça seu Login!</h1>
    <div class="border-white opacity-40 border"></div>
    <form
      [formGroup]="signForm"
      class="flex flex-col space-y-4"
      (ngSubmit)="submit()"
    >
      <div class="flex flex-col space-y-1.5">
        <label for="email">Seu Email</label>
        <input
          formControlName="email"
          name="email"
          id="email"
          type="text"
          placeholder="Digite seu email "
          class="ring p-1 rounded placeholder:text-zinc-500"
        />
        @if((emailControl.dirty || emailControl.touched) &&
        emailControl.invalid) { @if (emailControl.hasError('invalid')) {
        <p class="text-red-500 font-bold">Por favor, insira um email válido!</p>
        }} @if (emailControl.hasError('required')) {
        <p class="text-red-500 font-bold">Por favor, insira seu email!</p>
        }
      </div>

      <div class="flex flex-col space-y-1.5">
        <label for="password">Sua Senha</label>
        <input
          formControlName="password"
          name="password"
          id="password"
          type="password"
          placeholder="Digite sua senha"
          class="ring p-1 rounded placeholder:text-zinc-500"
        />
        @if(passcontrol.invalid && (passcontrol.dirty || passcontrol.touched)){
        @if(passcontrol.hasError("required")){
        <p class="text-red-500 font-bold">A senha é obrigatória!</p>
        }} @if(passcontrol.hasError("minlength")){
        <p class="text-red-500 font-bold">Digite uma senha válida!</p>
        }
      </div>
      @if (ErrorMessage !== "") {
      <p class="text-red-500">{{ ErrorMessage }}</p>
      }
      <button
        [disabled]="signForm.invalid"
        type="submit"
        class="p-1 font-bold bg-white hover:bg-gray-100 text-black cursor-pointer rounded disabled:cursor-not-allowed"
      >
        Entrar
      </button>
    </form>
    <div>
      <p class="cursor-default">
        Ainda não tem uma conta?
        <a href="/sign-up" class="text-blue-600 cursor-pointer">Crie a sua</a>
      </p>
    </div>
  </section>
</app-auth>
